{{#if description}}
/// {{{description}}}
{{/if}}
sealed class {{name}}{{implements}} {
  Map<String, dynamic> toJson();

  static {{name}} fromJson(Map<String, dynamic> json) {
    return switch (json['__typename']) {
{{#each concreteMembers}}
{{#if isNested}}
      '{{typeName}}' => {{wrapperName}}({{delegateTo}}.fromJson(json)),
{{else}}
      '{{typeName}}' => {{delegateTo}}.fromJson(json),
{{/if}}
{{/each}}
      _ => throw ArgumentError('Unknown __typename for {{name}}: ${json["__typename"]}'),
    };
  }
}

{{#each nestedUnionWrappers}}
class {{wrapperName}} extends {{parentUnionName}} {
{{#each interfaceFields}}
  @override
  {{type}} get {{propertyName}} => value.{{propertyName}};
{{/each}}
  final {{unionName}} value;
  {{wrapperName}}(this.value);

  @override
  Map<String, dynamic> toJson() => value.toJson();
}

{{/each}}
