# Error handling definitions for OpenIAP

# Unified error codes surfaced by the OpenIAP APIs
enum ErrorCode {
  Unknown
  UserCancelled
  UserError
  ItemUnavailable
  RemoteError
  NetworkError
  ServiceError
  # @deprecated Use PurchaseVerificationFailed instead
  ReceiptFailed
  # @deprecated Use PurchaseVerificationFinished instead
  ReceiptFinished
  # @deprecated Use PurchaseVerificationFinishFailed instead
  ReceiptFinishedFailed
  PurchaseVerificationFailed
  PurchaseVerificationFinished
  PurchaseVerificationFinishFailed
  NotPrepared
  NotEnded
  AlreadyOwned
  DeveloperError
  BillingResponseJsonParseError
  DeferredPayment
  Interrupted
  IapNotAvailable
  PurchaseError
  SyncError
  TransactionValidationFailed
  ActivityUnavailable
  AlreadyPrepared
  Pending
  ConnectionClosed
  InitConnection
  ServiceDisconnected
  QueryProduct
  SkuNotFound
  SkuOfferMismatch
  ItemNotOwned
  BillingUnavailable
  FeatureNotSupported
  EmptySkuList
}

# Purchase error payload delivered through listeners and API responses
type PurchaseError {
  code: ErrorCode!
  message: String!
  productId: String
}
